# Ray Tracing Project

Проект реализует алгоритм трассировки лучей (Ray Tracing) для рендеринга 3D-сцен в консольном режиме с использованием ASCII-графики.

## Оглавление
- [Обзор проекта](#обзор-проекта)
- [Структура проекта](#структура-проекта)
- [Детальное описание компонентов](#детальное-описание-компонентов)
  - [Класс Canvas](#класс-canvas)
  - [Класс Vector3](#класс-vector3)
  - [Класс Object и Sphere](#класс-object-и-sphere)
  - [Класс Scene](#класс-scene)
  - [Класс Camera](#класс-camera)
  - [Вспомогательные функции](#вспомогательные-функции)
- [Установка и сборка](#установка-и-сборка)
- [Использование](#использование)
- [Пример вывода](#пример-вывода)

---

## Обзор проекта

Проект представляет собой упрощенный трассировщик лучей, который визуализирует 3D-сцену с помощью ASCII-символов в консоли. Основные возможности:
- Рендеринг сферических объектов
- Моделирование перспективной камеры
- Определение пересечений лучей с объектами
- Простое освещение на основе расстояния

## Структура проекта
RayTracingProject/
├── build/ # Директория для сборки
├── headers/ # Заголовочные файлы и реализации
│ ├── FastPrinting.h # Оптимизированный вывод в консоль
│ ├── STLheaders.h # Стандартные заголовки C++
│ ├── Tracing.h # Основные классы трассировки
│ └── Tracing.cpp # Реализация методов
├── src/
│ └── main.cpp # Точка входа и пример использования
├── .gitignore
└── CMakeLists.txt # Конфигурация сборки


---

## Детальное описание компонентов

### Класс Canvas

Отвечает за отображение сцены в консоли.

**Методы:**
- `Canvas(int _h, int _w)` - конструктор с высотой и шириной
- `bool show()` - отображает текущий кадр в консоли
- `void next_frame()` - очищает холст для следующего кадра
- `void setPoint(int x, int y, int brightness)` - устанавливает символ в позицию (x,y)

**Принцип работы:** Использует три символа {'.','|','&'} для представления разных уровней яркости.

### Класс Vector3

Реализует математический аппарат для работы с 3D-векторами.

**Методы:**
- `Vector3()`, `Vector3(double, double, double)` - конструкторы
- `operator +`, `operator -` - векторные сложение и вычитание
- `operator *` - скалярное произведение
- `length()` - вычисляет длину вектора
- `operator[]` - доступ к компонентам вектора

### Класс Object и Sphere

Базовый класс для всех объектов сцены и его специализация для сфер.

**Object:**
- Базовый класс с типом, координатами и цветом
- Виртуальный деструктор для полиморфизма

**Sphere (наследует Object):**
- Добавляет радиус сферы
- Конструкторы для инициализации параметров сферы

### Класс Scene

Контейнер для объектов сцены.

**Методы:**
- `Scene()` - конструктор по умолчанию
- `Scene(std::vector<Object*>)` - конструктор с массивом объектов

### Класс Camera

Реализует камеру и алгоритмы трассировки лучей.

**Методы:**
- `Vector3 CanvasToViewPort(int x, int y)` - преобразует координаты холста в координаты видового порта
- `std::vector<double> IntersectSphere(Vector3 O, Vector3 D, Sphere *sphere)` - вычисляет пересечение луча со сферой
- `double TraceRay(Vector3 O, Vector3 D, double t_min, double t_max, Scene scene)` - трассирует луч и возвращает цвет

**Алгоритм IntersectSphere:** Решает квадратное уравнение для нахождения точек пересечения луча со сферой.

### Вспомогательные функции

- `std::vector<int> range(int first, int last, int step)` - генерирует последовательность чисел
- Функции быстрой печати из `FastPrinting.h` - оптимизированный вывод в консоль

---

## Установка и сборка

```bash
# Клонирование репозитория
git clone https://github.com/KosmoDes/RayTracingProject
cd RayTracingProject

# Создание директории сборки
mkdir build && cd build

# Сборка проекта
cmake ..
make

# Запуск
./RayTracing
```

## Использование
Проект рендерит простую сцену с одной сферой. Для модификации сцены измените файл main.cpp:
```
// Добавление объектов в сцену
Scene scene(std::vector<Object*>{ 
    new Sphere(25, Vector3{30, 25, 100}, Vector3{255, 223, 253})
});

// Настройка камеры
Camera cam{1, Vector3{0, 0, 0}};
```
## Пример вывода
Проект выводит ASCII-изображение в консоль, где разные символы представляют различные уровни освещенности:

. - темные области

| - средняя яркость

& - яркие области
